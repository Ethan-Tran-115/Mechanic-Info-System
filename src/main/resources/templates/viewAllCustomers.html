<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>View All Customers</title>
<link rel="stylesheet" href="/stylesheet.css">
<style>
label {
	display: inline-block;
	white-space: nowrap;
	text-align: center;
}
tr {
  display: block
}
td.break {
  float: left;
  text-indent: 15px;
  padding-right: 15px;
}
td.pad {
	padding-right: 15px;
}
</style>

</head>
<body class="center">
	
	<div class="content">
		
		<div class="image-container">
            <img src="http://spencertramontina.com/wdv130/banners_webpage/images/Mechanic_Shop_Banner.jpg">
            <h2 class="overlay-text">List of Customers</h2>
        </div>
        
		<div class="innerContent">
			
			<form>
				<table>
					<tr th:each="currentCustomer, iterStat : ${customers}" style="clear: both;">
						<td class="pad"
							th:text="${currentCustomer.fName} + ' ' + ${currentCustomer.lName} + ', Email: ' + ${currentCustomer.email} + 
							', Phone: (' + ${currentCustomer.phoneNum.substring(0, 3)} + ')-' + ${currentCustomer.phoneNum.substring(3, 6)} + '-' + ${currentCustomer.phoneNum.substring(6)} + 
							', CC: ' + ${currentCustomer.creditCardNum} + ' || '"></td>

						<td><a class="sm_button" th:href="@{/viewSpecificCustomer/{id}(id=${currentCustomer.id})}">View</a></td>
						<td><a class="sm_button" th:href="@{/editCustomer/{id}(id=${currentCustomer.id})}">Edit</a></td>
						<td><a class="sm_button" th:href="@{/deleteCustomer/{id}(id=${currentCustomer.id})}">Delete</a></td>
							
						<td class="break" th:each="vehicle : ${currentCustomer.vehicles}"
							th:text="'Vehicle ' + ${currentCustomer.vehicles.indexOf(vehicle) + 1} + ': ' + ${vehicle.color} + ' ' + ${vehicle.year} + ' ' + ${vehicle.make} + ' ' + ${vehicle.model}"></td>
					</tr>
				</table>
			</form>
			
		</div>
		
		<div class="center">
			<a href="/index.html" class="button">Back To Home</a> 
			<a href="inputCustomer" class="button">Add New Customer</a><br>
		</div>
		
	</div>
	
</body>
</html>