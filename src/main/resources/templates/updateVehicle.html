<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Update Vehicle</title>
<link rel="stylesheet" href="/stylesheet.css">
<style>
	.hidden{
		display: none;
	}
</style>
<script>
	
	function validateForm() {
		
		var make = document.updateVehicleForm.make.value
		var model = document.updateVehicleForm.model.value
		var year = document.updateVehicleForm.year.value
		var color = document.updateVehicleForm.color.value
		
		if (make === "") {
	        alert("Please enter the vehicle's make.");
	        return false;
	    }
	    
		if (model === "") {
	        alert("Please enter the vehicle's model.");
	        return false;
	    }
	    
		if (!(/^\d{4}$/.test(year))) {
	        alert("Please enter a valid vehicle's year.");
	        return false;
	    }
	    
		if (color === "") {
	        alert("Please enter a valid vehicle's color.");
	        return false;
	    }
        
        return true;	
	}
</script>
</head>
<!--Issue with, when updating either customer or vehicle, vehicle will not show up on the viewAllCustomers page, 
	will show if you click the "view all customers" button-->
<body class="center">
	
	<div class="content">
		
		<div class="image-container">
            <img src="http://spencertramontina.com/wdv130/banners_webpage/images/Mechanic_Shop_Banner.jpg">
            <h2 class="overlay-text">Updating Customer Vehicle Information</h2>
        </div>
		
		<form th:object="${updateVehicle}" th:action="@{/updateVehicle/{id}(id=${updateVehicle.id})}" method="post" name="updateVehicleForm" onsubmit="return validateForm()">

			<div class="innerContent">
				
				<h3 class="center">Vehicle Information</h3>
				
				<div th:object="${updateVehicle}">
					<div class="hidden">
						<input type="text" name="customer.id" th:field="*{customer.id}">
						<input type="text" name="customer.fName" th:field="*{customer.fName}">
						<input type="text" name="customer.lName" th:field="*{customer.lName}">
						<input type="text" name="customer.phoneNum" th:field="*{customer.phoneNum}">
						<input type="text" name="customer.email" th:field="*{customer.email}">
						<input type="text" name="customer.creditCardNum" th:field="*{customer.creditCardNum}">
					</div>
					
					<div class="center">
						<label for="make">Make: </label> <input type="text"
							name="make" th:field="*{make}">
					</div>
					
					<div class="center">
						<label for="model">Model: </label> <input type="text"
							name="model" th:field="*{model}">
					</div>
					
					<div class="center">
						<label for="year">Year: </label> <input type="text"
							name="year" th:field="*{year}">
					</div>
					
					<div class="center">
						<label for="color">Color: </label> <input type="text"
							name="color" th:field="*{color}">
					</div>
					
					<div class="center">
						<br /> <input name="submit" type="submit" value="Submit" />
					</div>
					
				</div>
				
			</div>
			
		</form>
		
		<div class="center">
			<a href="/index.html" class="button">Back To Home</a>
			<a href="updateCustomer.html" class="button">Update Customer</a>
			<a href="viewAllCustomers" class="button">View All Customers</a><br>
		</div>
		
	</div>
	
</body>
</html>